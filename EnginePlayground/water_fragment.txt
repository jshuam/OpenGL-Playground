#version 400 core

in vec4 clip_space;

out vec4 out_colour;

uniform sampler2D reflection_texture;
uniform sampler2D refraction_texture;

void main( void )
{
	vec2 normalised_device_coords = ( clip_space.xy / clip_space.w ) / 2.0 + 0.5;

	vec2 reflection_texture_coords = vec2( normalised_device_coords.x, -normalised_device_coords.y );
	vec2 refraction_texture_coords = vec2( normalised_device_coords.x, normalised_device_coords.y );

	vec4 reflection_colour = texture( reflection_texture, reflection_texture_coords );
	vec4 refraction_colour = texture( refraction_texture, refraction_texture_coords );

	out_colour = mix( reflection_colour, refraction_colour, 0.5 );
}